import{_ as U,c as S,o as x,j as P,F as k,d as Z,ae as ee,B as re,a as te,t as se}from"./framework.Bubk6TJl.js";const j=(s,o)=>{Array.from(s.style).forEach(a=>{a.startsWith(`--${o}-`)&&s.style.removeProperty(a)})},R=(s,o)=>{s.classList.remove(...Array.from(s.classList).filter(a=>a.startsWith(o)))},V=(s,o)=>{o?s.setAttribute("tabIndex",o):s.removeAttribute("tabIndex")};var g,f;function y(){return y=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var u in a)({}).hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s},y.apply(null,arguments)}(function(s){s.inside="inside",s.outside="outside"})(g||(g={})),function(s){s[s.InnerGenerated=0]="InnerGenerated",s[s.InnerParent=1]="InnerParent",s[s.OuterGenerated=2]="OuterGenerated",s[s.OuterParent=3]="OuterParent"}(f||(f={}));const v=s=>s==="y",J=s=>v(s)?"x":"y",K=s=>s?"height":"width",ae=s=>v(s)?"scrollTop":"scrollLeft",ne=s=>K(v(s)),oe=s=>K(!v(s)),ie=(s,o)=>v(s)?o.bar.y.width:o.bar.x.height,h=(s,o)=>{["x","y"].forEach(a=>{o({dir:a,isDirY:v(a),isLeftOrTop:ae(a),reverseDir:J(a),dimensionLong:ne(a),dimensionShort:oe(a),scrollbarShort:ie(a,s),scrollbarOffsetLong:s.bar[a].offset[~~v(a)],scrollbarOffsetShort:s.bar[a].offset[~~!v(a)]})})};let p,Y=null,M=null;const b="ls",X=(s,o)=>{if(o)for(;s.firstChild;)o.appendChild(s.firstChild)},le={bar:{y:{width:6,offset:[0,0]},x:{height:6,offset:[0,0]}},className:"light-scrollbar",disableFocusPrevent:!0,wrapperPlacement:g.inside,showOnHover:!1},me=(s,o={})=>{if(!s)return;const a=((e,t)=>{var n,i,c,m;return y({},e,t,{bar:{y:y({},e==null||(n=e.bar)==null?void 0:n.y,t==null||(i=t.bar)==null?void 0:i.y),x:y({},e==null||(c=e.bar)==null?void 0:c.x,t==null||(m=t.bar)==null?void 0:m.x)}})})(le,o),u=a.wrapperElement||document.createElement("div");(function(e,t,n){if(Y=t.getAttribute("tabindex"),M=e.getAttribute("tabindex"),n.wrapperPlacement==="outside"){var i;if(t.children[0]===e)return void(p=f.OuterParent);p=f.OuterGenerated,e==null||(i=e.parentNode)==null||i.insertBefore(t,e),t.appendChild(e)}else{var c;for(t.children[0]===e?(e==null||(c=e.parentNode)==null||(c=c.parentNode)==null||c.insertBefore(e,t),p=f.InnerParent):p=f.InnerGenerated;e.firstChild;)t.appendChild(e.firstChild);e.appendChild(t)}})(s,u,a);const O=a.wrapperPlacement==="outside",l=O?s:u,d=O?u:s;l.classList.add(a.className),l.classList.add(`${a.className}-wrapper-${g.inside}`),O||(l.dataset.lsCreated=""),d.classList.add(a.className);const q=`${a.className}-wrapper-${g.outside}`;d.classList.add(q),a.showOnHover!==!1&&(d.classList.add(`${a.className}-wrapper-${g.outside}--show-on-hover`),d.style.setProperty(`--${b}-show-on-hover`,`${a.showOnHover}ms`)),d.setAttribute("tabindex","-1"),((e,t)=>{h(e,({dir:n,dimensionShort:i,scrollbarShort:c,scrollbarOffsetShort:m})=>{t.style.setProperty(`--${b}-bar-${n}-${i}`,`${c}px`),t.style.setProperty(`--${b}-bar-${n}-offset-${J(n)}`,`${m}px`)})})(a,d);let C=l.getBoundingClientRect();const r={c:{x:0,y:0,a:!1,b:!1},d:10,e:{width:0,height:0},f:{width:0,height:0},k:{x:{g:!1,h:!1},y:{g:!1,h:!1}},ar:{x:{h:!1,g:!1,n:!1,o:0,u:{r:{p:0,q:0},t:{q:0}},aa:{p:0,q:0,z:0},ab:0},y:{h:!1,g:!1,n:!1,o:0,u:{r:{p:0,q:0},t:{q:0}},ab:0,aa:{p:0,q:0,z:0}}}},w=e=>{r.c.x=e.clientX-C.left,r.c.y=e.clientY-C.top},N=({reverseDir:e,dimensionShort:t,scrollbarShort:n,scrollbarOffsetShort:i})=>r.c[e]>=r.e[t]-n-i&&r.c[e]<r.e[t]-i,E=({dir:e,reverseDir:t,scrollbarShort:n,dimensionShort:i,scrollbarOffsetShort:c})=>{r.ar[e].g=N({reverseDir:t,scrollbarShort:n,dimensionShort:i,scrollbarOffsetShort:c})&&r.c[e]>=r.ar[e].u.t.q&&r.c[e]<=r.ar[e].u.t.q+r.ar[e].aa.q,r.ar[e].h=!!r.ar[e].h||r.ar[e].g,d.classList.toggle(`hover-${e}`,r.ar[e].h)},Q=({dir:e,dimensionLong:t})=>{r.ar[e].aa.z=r.e[t]/r.f[t]*100;const n=r.ar[e].aa.z;r.ar[e].aa.p=n>=r.d?n:r.d,r.ar[e].aa.q=r.ar[e].aa.p/100*r.e[t];const i=r.ar[e].aa.p;d.style.setProperty(`--${b}-bar-${e}-${t}`,`${i>=100?0:i}%`)},A=(e,{dir:t,dimensionLong:n,isLeftOrTop:i})=>{var c;const m=t==="y"?"top":"left",$=(e==null||(c=e.target)==null?void 0:c[i])||l[i];r.ar[t].u.r.p=$/r.f[n],r.ar[t].u.t.q=$/(r.f[n]-r.f[n]*r.ar[t].aa.z/100)*100/100*(r.e[n]-r.ar[t].aa.q),d.style.setProperty(`--${b}-bar-${t}-${m}`,`${r.ar[t].u.t.q}px`)},D=(e,t=!1)=>{h(a,({dir:n,dimensionLong:i,isLeftOrTop:c})=>{r.k[n].h=!!r.k[n].h||r.k[n].g,r.k[n].h&&r.c.b&&(t&&e.preventDefault(),r.ar[n].n?r.ar[n].n=!0:(r.ar[n].n=r.ar[n].g,r.ar[n].o=r.ar[n].n?r.ar[n].u.t.q-r.c[n]:-r.ar[n].aa.q/2),d.classList.toggle(`active-${n}`,r.ar[n].n),r.ar[n].u.r.q=r.f[i]*((r.c[n]+r.ar[n].o)/r.e[i]),l[c]=r.ar[n].u.r.q)})},L=(e=!1)=>{e&&(r.e.height=l.clientHeight,r.e.width=l.clientWidth,r.f.height=l.scrollHeight,r.f.width=l.scrollWidth,h(a,t=>{Q(t),A(void 0,t)}))},I=e=>{var t;(t=e.target)!=null&&t.closest(`.${q}`)&&(w(e),r.c.a=!0,r.c.b=r.k.x.g||r.k.y.g,h(a,E))},B=e=>{w(e),r.c.a=!1,r.c.b=!1,h(a,t=>{r.k[t.dir].h=!1,r.ar[t.dir].h=!1,r.ar[t.dir].n=!1,d.classList.remove(`active-${t.dir}`),E(t)})},G=e=>{w(e),C=l.getBoundingClientRect(),r.c.a?(l.classList.add("no-smooth"),D(e)):(r.ar.y.h=!1,r.ar.x.h=!1,l.classList.remove("no-smooth")),h(a,E)},_=()=>{((e=!1)=>{e&&h(a,({dir:t,reverseDir:n,dimensionLong:i,dimensionShort:c,scrollbarShort:m,scrollbarOffsetShort:$})=>{r.k[t].g=N({reverseDir:n,scrollbarShort:m,dimensionShort:c,scrollbarOffsetShort:$})&&r.c[t]<=r.e[i]&&r.c[t]>=0})})(!0),L(!0)},z=e=>{w(e),D(e,!0)},H=e=>{a.disableFocusPrevent&&(r.k.x.g||r.k.y.g)&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation())},T=e=>h(a,t=>A(e,t)),W=new ResizeObserver(()=>L(!0));W.observe(l);const F=new MutationObserver(()=>L(!0));return F.observe(l,{childList:!0,subtree:!0,characterData:!0}),L(!0),l.addEventListener("scroll",T,{passive:!0}),d.addEventListener("click",z),d.addEventListener("mousemove",_,{passive:!0}),d.addEventListener("focus",H),window.addEventListener("mousedown",I,{passive:!0}),window.addEventListener("mouseup",B,{passive:!0}),window.addEventListener("mousemove",G,{passive:!0}),{detach:()=>{W.disconnect(),F.disconnect(),l.removeEventListener("scroll",T),d.removeEventListener("click",z),d.removeEventListener("mousemove",_),d.removeEventListener("focus",H),window.removeEventListener("mousedown",I),window.removeEventListener("mouseup",B),window.removeEventListener("mousemove",G),((e,t,n)=>{if(p===f.InnerGenerated)X(t,e),t.remove();else if(p===f.InnerParent){var i;X(t,e),e==null||(i=e.parentNode)==null||i.insertBefore(t,e),t.appendChild(e)}else p===f.OuterGenerated&&e.replaceWith(e.children[0]);R(e,n),R(t,n),j(e,b),j(t,b),V(e,M),V(t,Y),e.removeAttribute("data-ls-created"),t.removeAttribute("data-ls-created")})(d,l,a.className)},innerElement:l,outerElement:d}},de={};function ce(s,o){return x(),S(k,null,[P("button",{class:"add-item",onClick:o[0]||(o[0]=a=>s.$emit("click",1))},"Add Dynamically item"),P("button",{class:"add-item",onClick:o[1]||(o[1]=a=>s.$emit("click",100))},"Add Dynamically 100 items")],64)}const he=U(de,[["render",ce]]),ue={class:"my-scrollbar"},ve=Z({__name:"scrollbarTemplate",props:{additionalElementsNumber:{type:Number,default:0}},setup(s){return(o,a)=>(x(),S("div",ue,[(x(!0),S(k,null,re(s.additionalElementsNumber,u=>(x(),S(k,null,[te("Additional items dynamically appended "+se(u),1),a[0]||(a[0]=P("br",null,null,-1))],64))),256)),a[1]||(a[1]=ee('<div class="item"> Extra element with longer content, and on hover expand,<br> showing that scrollbar is reactive </div> Some Content<br> Some Content<br> Some Content<br> Some Content<br> Some Content<br> Some Content<br> Some Content<br> Some Content<br> Some Content<br> Some Content<br>',21))]))}});export{he as A,ve as _,g as a,me as w};
