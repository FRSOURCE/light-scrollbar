import{_ as Z,c as x,o as O,l as u,F as k,d as ee,a as h,D as te,t as re}from"./framework.f1a4JSA3.js";const j=(s,o)=>{Array.from(s.style).forEach(a=>{a.startsWith(`--${o}-`)&&s.style.removeProperty(a)})},V=(s,o)=>{s.classList.remove(...Array.from(s.classList).filter(a=>a.startsWith(o)))},Y=(s,o)=>{o?s.setAttribute("tabIndex",o):s.removeAttribute("tabIndex")};var w,m;function L(){return L=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var f in a)({}).hasOwnProperty.call(a,f)&&(s[f]=a[f])}return s},L.apply(null,arguments)}(function(s){s.inside="inside",s.outside="outside"})(w||(w={})),function(s){s[s.InnerGenerated=0]="InnerGenerated",s[s.InnerParent=1]="InnerParent",s[s.OuterGenerated=2]="OuterGenerated",s[s.OuterParent=3]="OuterParent"}(m||(m={}));const b=s=>s==="y",K=s=>b(s)?"x":"y",Q=s=>s?"height":"width",se=s=>b(s)?"scrollTop":"scrollLeft",ne=s=>Q(b(s)),ae=s=>Q(!b(s)),oe=(s,o)=>b(s)?o.bar.y.width:o.bar.x.height,p=(s,o)=>{["x","y"].forEach(a=>{o({dir:a,isDirY:b(a),isLeftOrTop:se(a),reverseDir:K(a),dimensionLong:ne(a),dimensionShort:ae(a),scrollbarShort:oe(a,s),scrollbarOffsetLong:s.bar[a].offset[~~b(a)],scrollbarOffsetShort:s.bar[a].offset[~~!b(a)]})})};let g,M=null,X=null;const y="ls",J=(s,o)=>{if(o)for(;s.firstChild;)o.appendChild(s.firstChild)},le={bar:{y:{width:6,offset:[0,0]},x:{height:6,offset:[0,0]}},className:"light-scrollbar",disableFocusPrevent:!0,wrapperPlacement:w.inside,showOnHover:!1},Se=(s,o={})=>{if(!s)return;const a=((e,r)=>{var n,l,c,v;return L({},e,r,{bar:{y:L({},e==null||(n=e.bar)==null?void 0:n.y,r==null||(l=r.bar)==null?void 0:l.y),x:L({},e==null||(c=e.bar)==null?void 0:c.x,r==null||(v=r.bar)==null?void 0:v.x)}})})(le,o),f=a.wrapperElement||document.createElement("div");(function(e,r,n){if(M=r.getAttribute("tabindex"),X=e.getAttribute("tabindex"),n.wrapperPlacement==="outside"){var l;if(r.children[0]===e)return void(g=m.OuterParent);g=m.OuterGenerated,e==null||(l=e.parentNode)==null||l.insertBefore(r,e),r.appendChild(e)}else{var c;for(r.children[0]===e?(e==null||(c=e.parentNode)==null||(c=c.parentNode)==null||c.insertBefore(e,r),g=m.InnerParent):g=m.InnerGenerated;e.firstChild;)r.appendChild(e.firstChild);e.appendChild(r)}})(s,f,a);const C=a.wrapperPlacement==="outside",i=C?s:f,d=C?f:s;i.classList.add(a.className),i.classList.add(`${a.className}-wrapper-${w.inside}`),C||(i.dataset.lsCreated=""),d.classList.add(a.className);const q=`${a.className}-wrapper-${w.outside}`;d.classList.add(q),a.showOnHover!==!1&&(d.classList.add(`${a.className}-wrapper-${w.outside}--show-on-hover`),d.style.setProperty(`--${y}-show-on-hover`,`${a.showOnHover}ms`)),d.setAttribute("tabindex","-1"),((e,r)=>{p(e,({dir:n,dimensionShort:l,scrollbarShort:c,scrollbarOffsetShort:v})=>{r.style.setProperty(`--${y}-bar-${n}-${l}`,`${c}px`),r.style.setProperty(`--${y}-bar-${n}-offset-${K(n)}`,`${v}px`)})})(a,d);let E=i.getBoundingClientRect();const t={c:{x:0,y:0,a:!1,b:!1},d:10,e:{width:0,height:0},f:{width:0,height:0},k:{x:{g:!1,h:!1},y:{g:!1,h:!1}},ar:{x:{h:!1,g:!1,n:!1,o:0,u:{r:{p:0,q:0},t:{q:0}},aa:{p:0,q:0,z:0},ab:0},y:{h:!1,g:!1,n:!1,o:0,u:{r:{p:0,q:0},t:{q:0}},ab:0,aa:{p:0,q:0,z:0}}}},_=e=>{t.c.x=e.clientX-E.left,t.c.y=e.clientY-E.top},N=({reverseDir:e,dimensionShort:r,scrollbarShort:n,scrollbarOffsetShort:l})=>t.c[e]>=t.e[r]-n-l&&t.c[e]<t.e[r]-l,P=({dir:e,reverseDir:r,scrollbarShort:n,dimensionShort:l,scrollbarOffsetShort:c})=>{t.ar[e].g=N({reverseDir:r,scrollbarShort:n,dimensionShort:l,scrollbarOffsetShort:c})&&t.c[e]>=t.ar[e].u.t.q&&t.c[e]<=t.ar[e].u.t.q+t.ar[e].aa.q,t.ar[e].h=!!t.ar[e].h||t.ar[e].g,d.classList.toggle(`hover-${e}`,t.ar[e].h)},U=({dir:e,dimensionLong:r})=>{t.ar[e].aa.z=t.e[r]/t.f[r]*100;const n=t.ar[e].aa.z;t.ar[e].aa.p=n>=t.d?n:t.d,t.ar[e].aa.q=t.ar[e].aa.p/100*t.e[r];const l=t.ar[e].aa.p;d.style.setProperty(`--${y}-bar-${e}-${r}`,`${l>=100?0:l}%`)},A=(e,{dir:r,dimensionLong:n,isLeftOrTop:l})=>{var c;const v=r==="y"?"top":"left",S=(e==null||(c=e.target)==null?void 0:c[l])||i[l];t.ar[r].u.r.p=S/t.f[n],t.ar[r].u.t.q=S/(t.f[n]-t.f[n]*t.ar[r].aa.z/100)*100/100*(t.e[n]-t.ar[r].aa.q),d.style.setProperty(`--${y}-bar-${r}-${v}`,`${t.ar[r].u.t.q}px`)},D=(e,r=!1)=>{p(a,({dir:n,dimensionLong:l,isLeftOrTop:c})=>{t.k[n].h=!!t.k[n].h||t.k[n].g,t.k[n].h&&t.c.b&&(r&&e.preventDefault(),t.ar[n].n?t.ar[n].n=!0:(t.ar[n].n=t.ar[n].g,t.ar[n].o=t.ar[n].n?t.ar[n].u.t.q-t.c[n]:-t.ar[n].aa.q/2),d.classList.toggle(`active-${n}`,t.ar[n].n),t.ar[n].u.r.q=t.f[l]*((t.c[n]+t.ar[n].o)/t.e[l]),i[c]=t.ar[n].u.r.q)})},$=(e=!1)=>{e&&(t.e.height=i.clientHeight,t.e.width=i.clientWidth,t.f.height=i.scrollHeight,t.f.width=i.scrollWidth,p(a,r=>{U(r),A(void 0,r)}))},I=e=>{var r;(r=e.target)!=null&&r.closest(`.${q}`)&&(_(e),t.c.a=!0,t.c.b=t.k.x.g||t.k.y.g,p(a,P))},B=e=>{_(e),t.c.a=!1,t.c.b=!1,p(a,r=>{t.k[r.dir].h=!1,t.ar[r.dir].h=!1,t.ar[r.dir].n=!1,d.classList.remove(`active-${r.dir}`),P(r)})},G=e=>{_(e),E=i.getBoundingClientRect(),t.c.a?(i.classList.add("no-smooth"),D(e)):(t.ar.y.h=!1,t.ar.x.h=!1,i.classList.remove("no-smooth")),p(a,P)},z=()=>{((e=!1)=>{e&&p(a,({dir:r,reverseDir:n,dimensionLong:l,dimensionShort:c,scrollbarShort:v,scrollbarOffsetShort:S})=>{t.k[r].g=N({reverseDir:n,scrollbarShort:v,dimensionShort:c,scrollbarOffsetShort:S})&&t.c[r]<=t.e[l]&&t.c[r]>=0})})(!0),$(!0)},H=e=>{_(e),D(e,!0)},T=e=>{a.disableFocusPrevent&&(t.k.x.g||t.k.y.g)&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation())},W=e=>p(a,r=>A(e,r)),F=new ResizeObserver(()=>$(!0));F.observe(i);const R=new MutationObserver(()=>$(!0));return R.observe(i,{childList:!0,subtree:!0,characterData:!0}),$(!0),i.addEventListener("scroll",W,{passive:!0}),d.addEventListener("click",H),d.addEventListener("mousemove",z,{passive:!0}),d.addEventListener("focus",T),window.addEventListener("mousedown",I,{passive:!0}),window.addEventListener("mouseup",B,{passive:!0}),window.addEventListener("mousemove",G,{passive:!0}),{detach:()=>{F.disconnect(),R.disconnect(),i.removeEventListener("scroll",W),d.removeEventListener("click",H),d.removeEventListener("mousemove",z),d.removeEventListener("focus",T),window.removeEventListener("mousedown",I),window.removeEventListener("mouseup",B),window.removeEventListener("mousemove",G),((e,r,n)=>{if(g===m.InnerGenerated)J(r,e),r.remove();else if(g===m.InnerParent){var l;J(r,e),e==null||(l=e.parentNode)==null||l.insertBefore(r,e),r.appendChild(e)}else g===m.OuterGenerated&&e.replaceWith(e.children[0]);V(e,n),V(r,n),j(e,y),j(r,y),Y(e,X),Y(r,M),e.removeAttribute("data-ls-created"),r.removeAttribute("data-ls-created")})(d,i,a.className)},innerElement:i,outerElement:d}},ie={};function de(s,o){return O(),x(k,null,[u("button",{class:"add-item",onClick:o[0]||(o[0]=a=>s.$emit("click",1))},"Add Dynamically item"),u("button",{class:"add-item",onClick:o[1]||(o[1]=a=>s.$emit("click",100))},"Add Dynamically 100 items")],64)}const xe=Z(ie,[["render",de]]),ce={class:"my-scrollbar"},ue=u("br",null,null,-1),he=u("div",{class:"item"},[h(" Extra element with longer content, and on hover expand,"),u("br"),h(" showing that scrollbar is reactive ")],-1),fe=u("br",null,null,-1),me=u("br",null,null,-1),ve=u("br",null,null,-1),pe=u("br",null,null,-1),be=u("br",null,null,-1),ge=u("br",null,null,-1),ye=u("br",null,null,-1),we=u("br",null,null,-1),Le=u("br",null,null,-1),_e=u("br",null,null,-1),Oe=ee({__name:"scrollbarTemplate",props:{additionalElementsNumber:{type:Number,default:0}},setup(s){return(o,a)=>(O(),x("div",ce,[(O(!0),x(k,null,te(s.additionalElementsNumber,f=>(O(),x(k,null,[h("Additional items dynamically appended "+re(f),1),ue],64))),256)),he,h(" Some Content"),fe,h(" Some Content"),me,h(" Some Content"),ve,h(" Some Content"),pe,h(" Some Content"),be,h(" Some Content"),ge,h(" Some Content"),ye,h(" Some Content"),we,h(" Some Content"),Le,h(" Some Content"),_e]))}});export{xe as A,Oe as _,w as a,Se as w};
