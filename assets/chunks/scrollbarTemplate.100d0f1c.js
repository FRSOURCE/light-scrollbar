import{o as X,c as J,_ as Z,e as u,d as h}from"../app.7cba6b35.js";const j=(n,l)=>{Array.from(n.style).forEach(o=>{o.startsWith(`--${l}-`)&&n.style.removeProperty(o)})},R=(n,l)=>{n.classList.remove(...Array.from(n.classList).filter(o=>o.startsWith(l)))},F=(n,l)=>{l?n.setAttribute("tabIndex",l):n.removeAttribute("tabIndex")};var _,v;function w(){return w=Object.assign||function(n){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(n[p]=o[p])}return n},w.apply(this,arguments)}(function(n){n.inside="inside",n.outside="outside"})(_||(_={})),function(n){n[n.InnerGenerated=0]="InnerGenerated",n[n.InnerParent=1]="InnerParent",n[n.OuterGenerated=2]="OuterGenerated",n[n.OuterParent=3]="OuterParent"}(v||(v={}));const b=n=>n==="y",K=n=>b(n)?"x":"y",Q=n=>n?"height":"width",ee=n=>b(n)?"scrollTop":"scrollLeft",te=n=>Q(b(n)),re=n=>Q(!b(n)),ne=(n,l)=>b(n)?l.bar.y.width:l.bar.x.height,f=(n,l)=>{["x","y"].forEach(o=>{l({dir:o,isDirY:b(o),isLeftOrTop:ee(o),reverseDir:K(o),dimensionLong:te(o),dimensionShort:re(o),scrollbarShort:ne(o,n),scrollbarOffsetLong:n.bar[o].offset[~~b(o)],scrollbarOffsetShort:n.bar[o].offset[~~!b(o)]})})};let g,V=null,Y=null;const M=(n,l)=>{if(l)for(;n.firstChild;)l.appendChild(n.firstChild)},se={bar:{y:{width:6,offset:[0,0]},x:{height:6,offset:[0,0]}},className:"light-scrollbar",disableFocusPrevent:!0,wrapperPlacement:_.inside,showOnHover:!1},_e=(n,l={})=>{if(!n)return;const o=((e,r)=>{var s,a,c,m;return w({},e,r,{bar:{y:w({},e==null||(s=e.bar)==null?void 0:s.y,r==null||(a=r.bar)==null?void 0:a.y),x:w({},e==null||(c=e.bar)==null?void 0:c.x,r==null||(m=r.bar)==null?void 0:m.x)}})})(se,l),p=o.wrapperElement||document.createElement("div");(function(e,r,s){if(V=r.getAttribute("tabindex"),Y=e.getAttribute("tabindex"),s.wrapperPlacement==="outside"){var a;if(r.children[0]===e)return void(g=v.OuterParent);g=v.OuterGenerated,e==null||(a=e.parentNode)==null||a.insertBefore(r,e),r.appendChild(e)}else{var c,m;for(r.children[0]===e?(e==null||(c=e.parentNode)==null||(m=c.parentNode)==null||m.insertBefore(e,r),g=v.InnerParent):g=v.InnerGenerated;e.firstChild;)r.appendChild(e.firstChild);e.appendChild(r)}})(n,p,o);const y=o.wrapperPlacement==="outside",i=y?n:p,d=y?p:n;i.classList.add(o.className),i.classList.add(`${o.className}-wrapper-${_.inside}`),y||(i.dataset.lsCreated=""),d.classList.add(o.className);const E=`${o.className}-wrapper-${_.outside}`;d.classList.add(E),o.showOnHover!==!1&&(d.classList.add(`${o.className}-wrapper-${_.outside}--show-on-hover`),d.style.setProperty("--ls-show-on-hover",`${o.showOnHover}ms`)),d.setAttribute("tabindex","-1"),((e,r)=>{f(e,({dir:s,dimensionShort:a,scrollbarShort:c,scrollbarOffsetShort:m})=>{r.style.setProperty(`--ls-bar-${s}-${a}`,`${c}px`),r.style.setProperty(`--ls-bar-${s}-offset-${K(s)}`,`${m}px`)})})(o,d);let O=i.getBoundingClientRect();const t={c:{x:0,y:0,a:!1,b:!1},d:10,e:{width:0,height:0},f:{width:0,height:0},k:{x:{g:!1,h:!1},y:{g:!1,h:!1}},ar:{x:{h:!1,g:!1,n:!1,o:0,u:{r:{p:0,q:0},t:{q:0}},aa:{p:0,q:0,z:0},ab:0},y:{h:!1,g:!1,n:!1,o:0,u:{r:{p:0,q:0},t:{q:0}},ab:0,aa:{p:0,q:0,z:0}}}},L=e=>{t.c.x=e.clientX-O.left,t.c.y=e.clientY-O.top},P=({reverseDir:e,dimensionShort:r,scrollbarShort:s,scrollbarOffsetShort:a})=>t.c[e]>=t.e[r]-s-a&&t.c[e]<t.e[r]-a,$=({dir:e,reverseDir:r,scrollbarShort:s,dimensionShort:a,scrollbarOffsetShort:c})=>{t.ar[e].g=P({dir:e,reverseDir:r,scrollbarShort:s,dimensionShort:a,scrollbarOffsetShort:c})&&t.c[e]>=t.ar[e].u.t.q&&t.c[e]<=t.ar[e].u.t.q+t.ar[e].aa.q,t.ar[e].h=!!t.ar[e].h||t.ar[e].g,d.classList.toggle(`hover-${e}`,t.ar[e].h)},U=({dir:e,dimensionLong:r})=>{t.ar[e].aa.z=t.e[r]/t.f[r]*100;const s=t.ar[e].aa.z;t.ar[e].aa.p=s>=t.d?s:t.d,t.ar[e].aa.q=t.ar[e].aa.p/100*t.e[r];const a=t.ar[e].aa.p;d.style.setProperty(`--ls-bar-${e}-${r}`,`${a>=100?0:a}%`)},k=(e,{dir:r,dimensionLong:s,isLeftOrTop:a})=>{var c;const m=r==="y"?"top":"left",x=(e==null||(c=e.target)==null?void 0:c[a])||i[a];let W=0,C=0;t.ar[r].aa.z<=t.d&&(W=t.d-t.ar[r].aa.z,C=t.e[s]*W/100),t.ar[r].u.r.p=x/t.f[s],t.ar[r].u.t.q=(x+t.e[s]-C)/t.f[s]*t.e[s]-t.ar[r].aa.q-2*C,d.style.setProperty(`--ls-bar-${r}-${m}`,`${t.ar[r].u.t.q}px`)},q=(e,r=!1)=>{f(o,({dir:s,dimensionLong:a,isLeftOrTop:c})=>{t.k[s].h=!!t.k[s].h||t.k[s].g,t.k[s].h&&t.c.b&&(r&&e.preventDefault(),t.ar[s].n?t.ar[s].n=!0:(t.ar[s].n=t.ar[s].g,t.ar[s].o=t.ar[s].n?t.ar[s].u.t.q-t.c[s]:-t.ar[s].aa.q/2),d.classList.toggle(`active-${s}`,t.ar[s].n),t.ar[s].u.r.q=t.f[a]*((t.c[s]+t.ar[s].o)/t.e[a]),i[c]=t.ar[s].u.r.q)})},S=(e=!1)=>{e&&(t.e.height=i.clientHeight,t.e.width=i.clientWidth,t.f.height=i.scrollHeight,t.f.width=i.scrollWidth,f(o,r=>{U(r),k(void 0,r)}))},N=e=>{var r;(r=e.target)!=null&&r.closest(`.${E}`)&&(L(e),t.c.a=!0,t.c.b=t.k.x.g||t.k.y.g,f(o,$))},I=e=>{L(e),t.c.a=!1,t.c.b=!1,f(o,r=>{t.k[r.dir].h=!1,t.ar[r.dir].h=!1,t.ar[r.dir].n=!1,d.classList.remove(`active-${r.dir}`),$(r)})},A=e=>{L(e),O=i.getBoundingClientRect(),t.c.a?(i.classList.add("no-smooth"),q(e)):(t.ar.y.h=!1,t.ar.x.h=!1,i.classList.remove("no-smooth")),f(o,$)},D=()=>{((e=!1)=>{e&&f(o,({dir:r,reverseDir:s,dimensionLong:a,dimensionShort:c,scrollbarShort:m,scrollbarOffsetShort:x})=>{t.k[r].g=P({dir:r,reverseDir:s,scrollbarShort:m,dimensionShort:c,scrollbarOffsetShort:x})&&t.c[r]<=t.e[a]&&t.c[r]>=0})})(!0),S(!0)},B=e=>{L(e),q(e,!0)},G=e=>{o.disableFocusPrevent&&(t.k.x.g||t.k.y.g)&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation())},z=e=>f(o,r=>k(e,r)),T=new ResizeObserver(()=>S(!0));T.observe(i);const H=new MutationObserver(()=>S(!0));return H.observe(i,{childList:!0,subtree:!0,characterData:!0}),S(!0),i.addEventListener("scroll",z,{passive:!0}),d.addEventListener("click",B),d.addEventListener("mousemove",D,{passive:!0}),d.addEventListener("focus",G),window.addEventListener("mousedown",N,{passive:!0}),window.addEventListener("mouseup",I,{passive:!0}),window.addEventListener("mousemove",A,{passive:!0}),{detach:()=>{T.disconnect(),H.disconnect(),i.removeEventListener("scroll",z),d.removeEventListener("click",B),d.removeEventListener("mousemove",D),d.removeEventListener("focus",G),window.removeEventListener("mousedown",N),window.removeEventListener("mouseup",I),window.removeEventListener("mousemove",A),((e,r,s)=>{if(g===v.InnerGenerated)M(r,e),r.remove();else if(g===v.InnerParent){var a;M(r,e),e==null||(a=e.parentNode)==null||a.insertBefore(r,e),r.appendChild(e)}else g===v.OuterGenerated&&e.replaceWith(e.children[0]);R(e,s),R(r,s),j(e,"ls"),j(r,"ls"),F(e,Y),F(r,V),e.removeAttribute("data-ls-created"),r.removeAttribute("data-ls-created")})(d,i,o.className)},innerElement:i,outerElement:d}},we={__name:"addItem",props:{instance:{type:Object,default:void 0}},setup(n){const l=n;let o=0;const p=()=>{if(!l.instance)return;o+=1;const y=document.createTextNode(`Additional items dynamically appended ${o}`),i=document.createElement("br");l.instance.prepend(y,i)};return(y,i)=>(X(),J("button",{class:"add-item",onClick:p},"Add Dynamically item"))}},oe={},ae={class:"my-scrollbar"},le=h("div",{class:"item"},[u(" Extra element with longer content, and on hover expand,"),h("br"),u(" showing that scrollbar is reactive ")],-1),ie=h("br",null,null,-1),de=h("br",null,null,-1),ce=h("br",null,null,-1),ue=h("br",null,null,-1),he=h("br",null,null,-1),me=h("br",null,null,-1),pe=h("br",null,null,-1),ve=h("br",null,null,-1),fe=h("br",null,null,-1),be=h("br",null,null,-1);function ge(n,l){return X(),J("div",ae,[le,u(" Some Content"),ie,u(" Some Content"),de,u(" Some Content"),ce,u(" Some Content"),ue,u(" Some Content"),he,u(" Some Content"),me,u(" Some Content"),pe,u(" Some Content"),ve,u(" Some Content"),fe,u(" Some Content"),be])}const Le=Z(oe,[["render",ge]]);export{_e as L,Le as S,we as _,_ as a};
