import{_ as Z,o as x,c as O,l as u,F as k,d as ee,E as te,a as f,t as re}from"./framework.D0mmfIbO.js";const j=(n,o)=>{Array.from(n.style).forEach(a=>{a.startsWith(`--${o}-`)&&n.style.removeProperty(a)})},V=(n,o)=>{n.classList.remove(...Array.from(n.classList).filter(a=>a.startsWith(o)))},Y=(n,o)=>{o?n.setAttribute("tabIndex",o):n.removeAttribute("tabIndex")};var w,m;function L(){return L=Object.assign?Object.assign.bind():function(n){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var h in a)({}).hasOwnProperty.call(a,h)&&(n[h]=a[h])}return n},L.apply(null,arguments)}(function(n){n.inside="inside",n.outside="outside"})(w||(w={})),function(n){n[n.InnerGenerated=0]="InnerGenerated",n[n.InnerParent=1]="InnerParent",n[n.OuterGenerated=2]="OuterGenerated",n[n.OuterParent=3]="OuterParent"}(m||(m={}));const v=n=>n==="y",K=n=>v(n)?"x":"y",Q=n=>n?"height":"width",ne=n=>v(n)?"scrollTop":"scrollLeft",se=n=>Q(v(n)),ae=n=>Q(!v(n)),oe=(n,o)=>v(n)?o.bar.y.width:o.bar.x.height,b=(n,o)=>{["x","y"].forEach(a=>{o({dir:a,isDirY:v(a),isLeftOrTop:ne(a),reverseDir:K(a),dimensionLong:se(a),dimensionShort:ae(a),scrollbarShort:oe(a,n),scrollbarOffsetLong:n.bar[a].offset[~~v(a)],scrollbarOffsetShort:n.bar[a].offset[~~!v(a)]})})};let g,M=null,X=null;const y="ls",J=(n,o)=>{if(o)for(;n.firstChild;)o.appendChild(n.firstChild)},le={bar:{y:{width:6,offset:[0,0]},x:{height:6,offset:[0,0]}},className:"light-scrollbar",disableFocusPrevent:!0,wrapperPlacement:w.inside,showOnHover:!1},Se=(n,o={})=>{if(!n)return;const a=((e,r)=>{var s,l,c,p;return L({},e,r,{bar:{y:L({},e==null||(s=e.bar)==null?void 0:s.y,r==null||(l=r.bar)==null?void 0:l.y),x:L({},e==null||(c=e.bar)==null?void 0:c.x,r==null||(p=r.bar)==null?void 0:p.x)}})})(le,o),h=a.wrapperElement||document.createElement("div");(function(e,r,s){if(M=r.getAttribute("tabindex"),X=e.getAttribute("tabindex"),s.wrapperPlacement==="outside"){var l;if(r.children[0]===e)return void(g=m.OuterParent);g=m.OuterGenerated,e==null||(l=e.parentNode)==null||l.insertBefore(r,e),r.appendChild(e)}else{var c;for(r.children[0]===e?(e==null||(c=e.parentNode)==null||(c=c.parentNode)==null||c.insertBefore(e,r),g=m.InnerParent):g=m.InnerGenerated;e.firstChild;)r.appendChild(e.firstChild);e.appendChild(r)}})(n,h,a);const C=a.wrapperPlacement==="outside",i=C?n:h,d=C?h:n;i.classList.add(a.className),i.classList.add(`${a.className}-wrapper-${w.inside}`),C||(i.dataset.lsCreated=""),d.classList.add(a.className);const q=`${a.className}-wrapper-${w.outside}`;d.classList.add(q),a.showOnHover!==!1&&(d.classList.add(`${a.className}-wrapper-${w.outside}--show-on-hover`),d.style.setProperty(`--${y}-show-on-hover`,`${a.showOnHover}ms`)),d.setAttribute("tabindex","-1"),((e,r)=>{b(e,({dir:s,dimensionShort:l,scrollbarShort:c,scrollbarOffsetShort:p})=>{r.style.setProperty(`--${y}-bar-${s}-${l}`,`${c}px`),r.style.setProperty(`--${y}-bar-${s}-offset-${K(s)}`,`${p}px`)})})(a,d);let E=i.getBoundingClientRect();const t={c:{x:0,y:0,a:!1,b:!1},d:10,e:{width:0,height:0},f:{width:0,height:0},k:{x:{g:!1,h:!1},y:{g:!1,h:!1}},ar:{x:{h:!1,g:!1,n:!1,o:0,u:{r:{p:0,q:0},t:{q:0}},aa:{p:0,q:0,z:0},ab:0},y:{h:!1,g:!1,n:!1,o:0,u:{r:{p:0,q:0},t:{q:0}},ab:0,aa:{p:0,q:0,z:0}}}},_=e=>{t.c.x=e.clientX-E.left,t.c.y=e.clientY-E.top},N=({reverseDir:e,dimensionShort:r,scrollbarShort:s,scrollbarOffsetShort:l})=>t.c[e]>=t.e[r]-s-l&&t.c[e]<t.e[r]-l,P=({dir:e,reverseDir:r,scrollbarShort:s,dimensionShort:l,scrollbarOffsetShort:c})=>{t.ar[e].g=N({dir:e,reverseDir:r,scrollbarShort:s,dimensionShort:l,scrollbarOffsetShort:c})&&t.c[e]>=t.ar[e].u.t.q&&t.c[e]<=t.ar[e].u.t.q+t.ar[e].aa.q,t.ar[e].h=!!t.ar[e].h||t.ar[e].g,d.classList.toggle(`hover-${e}`,t.ar[e].h)},U=({dir:e,dimensionLong:r})=>{t.ar[e].aa.z=t.e[r]/t.f[r]*100;const s=t.ar[e].aa.z;t.ar[e].aa.p=s>=t.d?s:t.d,t.ar[e].aa.q=t.ar[e].aa.p/100*t.e[r];const l=t.ar[e].aa.p;d.style.setProperty(`--${y}-bar-${e}-${r}`,`${l>=100?0:l}%`)},A=(e,{dir:r,dimensionLong:s,isLeftOrTop:l})=>{var c;const p=r==="y"?"top":"left",S=(e==null||(c=e.target)==null?void 0:c[l])||i[l];t.ar[r].u.r.p=S/t.f[s],t.ar[r].u.t.q=S/(t.f[s]-t.f[s]*t.ar[r].aa.z/100)*100/100*(t.e[s]-t.ar[r].aa.q),d.style.setProperty(`--${y}-bar-${r}-${p}`,`${t.ar[r].u.t.q}px`)},D=(e,r=!1)=>{b(a,({dir:s,dimensionLong:l,isLeftOrTop:c})=>{t.k[s].h=!!t.k[s].h||t.k[s].g,t.k[s].h&&t.c.b&&(r&&e.preventDefault(),t.ar[s].n?t.ar[s].n=!0:(t.ar[s].n=t.ar[s].g,t.ar[s].o=t.ar[s].n?t.ar[s].u.t.q-t.c[s]:-t.ar[s].aa.q/2),d.classList.toggle(`active-${s}`,t.ar[s].n),t.ar[s].u.r.q=t.f[l]*((t.c[s]+t.ar[s].o)/t.e[l]),i[c]=t.ar[s].u.r.q)})},$=(e=!1)=>{e&&(t.e.height=i.clientHeight,t.e.width=i.clientWidth,t.f.height=i.scrollHeight,t.f.width=i.scrollWidth,b(a,r=>{U(r),A(void 0,r)}))},I=e=>{var r;(r=e.target)!=null&&r.closest(`.${q}`)&&(_(e),t.c.a=!0,t.c.b=t.k.x.g||t.k.y.g,b(a,P))},B=e=>{_(e),t.c.a=!1,t.c.b=!1,b(a,r=>{t.k[r.dir].h=!1,t.ar[r.dir].h=!1,t.ar[r.dir].n=!1,d.classList.remove(`active-${r.dir}`),P(r)})},G=e=>{_(e),E=i.getBoundingClientRect(),t.c.a?(i.classList.add("no-smooth"),D(e)):(t.ar.y.h=!1,t.ar.x.h=!1,i.classList.remove("no-smooth")),b(a,P)},z=()=>{((e=!1)=>{e&&b(a,({dir:r,reverseDir:s,dimensionLong:l,dimensionShort:c,scrollbarShort:p,scrollbarOffsetShort:S})=>{t.k[r].g=N({dir:r,reverseDir:s,scrollbarShort:p,dimensionShort:c,scrollbarOffsetShort:S})&&t.c[r]<=t.e[l]&&t.c[r]>=0})})(!0),$(!0)},H=e=>{_(e),D(e,!0)},T=e=>{a.disableFocusPrevent&&(t.k.x.g||t.k.y.g)&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation())},W=e=>b(a,r=>A(e,r)),F=new ResizeObserver(()=>$(!0));F.observe(i);const R=new MutationObserver(()=>$(!0));return R.observe(i,{childList:!0,subtree:!0,characterData:!0}),$(!0),i.addEventListener("scroll",W,{passive:!0}),d.addEventListener("click",H),d.addEventListener("mousemove",z,{passive:!0}),d.addEventListener("focus",T),window.addEventListener("mousedown",I,{passive:!0}),window.addEventListener("mouseup",B,{passive:!0}),window.addEventListener("mousemove",G,{passive:!0}),{detach:()=>{F.disconnect(),R.disconnect(),i.removeEventListener("scroll",W),d.removeEventListener("click",H),d.removeEventListener("mousemove",z),d.removeEventListener("focus",T),window.removeEventListener("mousedown",I),window.removeEventListener("mouseup",B),window.removeEventListener("mousemove",G),((e,r,s)=>{if(g===m.InnerGenerated)J(r,e),r.remove();else if(g===m.InnerParent){var l;J(r,e),e==null||(l=e.parentNode)==null||l.insertBefore(r,e),r.appendChild(e)}else g===m.OuterGenerated&&e.replaceWith(e.children[0]);V(e,s),V(r,s),j(e,y),j(r,y),Y(e,X),Y(r,M),e.removeAttribute("data-ls-created"),r.removeAttribute("data-ls-created")})(d,i,a.className)},innerElement:i,outerElement:d}},ie={};function de(n,o){return x(),O(k,null,[u("button",{class:"add-item",onClick:o[0]||(o[0]=a=>n.$emit("click",1))},"Add Dynamically item"),u("button",{class:"add-item",onClick:o[1]||(o[1]=a=>n.$emit("click",100))},"Add Dynamically 100 items")],64)}const xe=Z(ie,[["render",de]]),ce={class:"my-scrollbar"},ue=u("br",null,null,-1),fe=u("div",{class:"item"},[f(" Extra element with longer content, and on hover expand,"),u("br"),f(" showing that scrollbar is reactive ")],-1),he=u("br",null,null,-1),me=u("br",null,null,-1),pe=u("br",null,null,-1),be=u("br",null,null,-1),ve=u("br",null,null,-1),ge=u("br",null,null,-1),ye=u("br",null,null,-1),we=u("br",null,null,-1),Le=u("br",null,null,-1),_e=u("br",null,null,-1),Oe=ee({__name:"scrollbarTemplate",props:{additionalElementsNumber:{type:Number,default:0}},setup(n){return(o,a)=>(x(),O("div",ce,[(x(!0),O(k,null,te(n.additionalElementsNumber,h=>(x(),O(k,null,[f("Additional items dynamically appended "+re(h),1),ue],64))),256)),fe,f(" Some Content"),he,f(" Some Content"),me,f(" Some Content"),pe,f(" Some Content"),be,f(" Some Content"),ve,f(" Some Content"),ge,f(" Some Content"),ye,f(" Some Content"),we,f(" Some Content"),Le,f(" Some Content"),_e]))}});export{xe as A,Oe as _,w as a,Se as w};
