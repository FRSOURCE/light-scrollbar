import{o as M,c as X,_ as U,b as u,a as m}from"../app.3b806c4c.js";const W=(r,i)=>{Array.from(r.style).forEach(s=>{s.startsWith(`--${i}-`)&&r.style.removeProperty(s)})},R=(r,i)=>{r.classList.remove(...Array.from(r.classList).filter(s=>s.startsWith(i)))},F=(r,i)=>{i?r.setAttribute("tabIndex",i):r.removeAttribute("tabIndex")};var w,b;function _(){return _=Object.assign||function(r){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&(r[h]=s[h])}return r},_.apply(this,arguments)}(function(r){r.inside="inside",r.outside="outside"})(w||(w={})),function(r){r[r.InnerGenerated=0]="InnerGenerated",r[r.InnerParent=1]="InnerParent",r[r.OuterGenerated=2]="OuterGenerated",r[r.OuterParent=3]="OuterParent"}(b||(b={}));const v=r=>r==="y",J=r=>v(r)?"x":"y",K=r=>r?"height":"width",Z=r=>v(r)?"scrollTop":"scrollLeft",ee=r=>K(v(r)),te=r=>K(!v(r)),ne=(r,i)=>v(r)?i.bar.y.width:i.bar.x.height,f=(r,i)=>{["x","y"].forEach(s=>{i({dir:s,isDirY:v(s),isLeftOrTop:Z(s),reverseDir:J(s),dimensionLong:ee(s),dimensionShort:te(s),scrollbarShort:ne(s,r),scrollbarOffsetLong:r.bar[s].offset[~~v(s)],scrollbarOffsetShort:r.bar[s].offset[~~!v(s)]})})};let g,H=null,V=null;const Y=(r,i)=>{if(i)for(;r.firstChild;)i.appendChild(r.firstChild)},re={bar:{y:{width:6,offset:[0,0]},x:{height:6,offset:[0,0]}},className:"light-scrollbar",disableFocusPrevent:!0,wrapperPlacement:w.inside},qe=(r,i={})=>{if(!r)return;const s=((e,n)=>{var o,a,c,p;return _({},e,n,{bar:{y:_({},e==null||(o=e.bar)==null?void 0:o.y,n==null||(a=n.bar)==null?void 0:a.y),x:_({},e==null||(c=e.bar)==null?void 0:c.x,n==null||(p=n.bar)==null?void 0:p.x)}})})(re,i),h=s.wrapperElement||document.createElement("div");(function(e,n,o){if(H=n.getAttribute("tabindex"),V=e.getAttribute("tabindex"),o.wrapperPlacement==="outside"){var a;if(n.children[0]===e)return void(g=b.OuterParent);g=b.OuterGenerated,e==null||(a=e.parentNode)==null||a.insertBefore(n,e),n.appendChild(e)}else{var c,p;for(n.children[0]===e?(e==null||(c=e.parentNode)==null||(p=c.parentNode)==null||p.insertBefore(e,n),g=b.InnerParent):g=b.InnerGenerated;e.firstChild;)n.appendChild(e.firstChild);e.appendChild(n)}})(r,h,s);const q=s.wrapperPlacement==="outside",l=q?r:h,d=q?h:r;l.classList.add(s.className),l.classList.add(`${s.className}-wrapper-${w.inside}`),q||(l.dataset.lsCreated=""),d.classList.add(s.className),d.classList.add(`${s.className}-wrapper-${w.outside}`),d.setAttribute("tabindex","-1"),((e,n)=>{f(e,({dir:o,dimensionShort:a,scrollbarShort:c,scrollbarOffsetShort:p})=>{n.style.setProperty(`--ls-bar-${o}-${a}`,`${c}px`),n.style.setProperty(`--ls-bar-${o}-offset-${J(o)}`,`${p}px`)})})(s,d);let L=l.getBoundingClientRect();const t={b:{x:0,y:0,a:!1},c:10,d:{width:0,height:0},e:{width:0,height:0},j:{x:{f:!1,g:!1},y:{f:!1,g:!1}},aq:{x:{g:!1,f:!1,m:!1,n:0,t:{q:{o:0,p:0},s:{p:0}},z:{o:0,p:0,w:0},aa:0},y:{g:!1,f:!1,m:!1,n:0,t:{q:{o:0,p:0},s:{p:0}},aa:0,z:{o:0,p:0,w:0}}}},y=e=>{t.b.x=e.clientX-L.left,t.b.y=e.clientY-L.top},O=({reverseDir:e,dimensionShort:n,scrollbarShort:o,scrollbarOffsetShort:a})=>t.b[e]>=t.d[n]-o-a&&t.b[e]<t.d[n]-a,S=({dir:e,reverseDir:n,scrollbarShort:o,dimensionShort:a,scrollbarOffsetShort:c})=>{t.aq[e].f=O({dir:e,reverseDir:n,scrollbarShort:o,dimensionShort:a,scrollbarOffsetShort:c})&&t.b[e]>=t.aq[e].t.s.p&&t.b[e]<=t.aq[e].t.s.p+t.aq[e].z.p,t.aq[e].g=!!t.aq[e].g||t.aq[e].f,d.classList.toggle(`hover-${e}`,t.aq[e].g)},Q=({dir:e,dimensionLong:n})=>{t.aq[e].z.w=t.d[n]/t.e[n]*100;const o=t.aq[e].z.w;t.aq[e].z.o=o>=t.c?o:t.c,t.aq[e].z.p=t.aq[e].z.o/100*t.d[n];const a=t.aq[e].z.o;d.style.setProperty(`--ls-bar-${e}-${n}`,`${a>=100?0:a}%`)},E=(e,{dir:n,dimensionLong:o,isLeftOrTop:a})=>{var c;const p=n==="y"?"top":"left",T=(e==null||(c=e.target)==null?void 0:c[a])||l[a];let k=0,C=0;t.aq[n].z.w<=t.c&&(k=t.c-t.aq[n].z.w,C=t.d[o]*k/100),t.aq[n].t.q.o=T/t.e[o],t.aq[n].t.s.p=(T+t.d[o]-C)/t.e[o]*t.d[o]-t.aq[n].z.p-2*C,d.style.setProperty(`--ls-bar-${n}-${p}`,`${t.aq[n].t.s.p}px`)},$=(e,n=!1)=>{f(s,({dir:o,dimensionLong:a,isLeftOrTop:c})=>{t.j[o].g=!!t.j[o].g||t.j[o].f,t.j[o].g&&(n&&e.preventDefault(),t.aq[o].m?t.aq[o].m=!0:(t.aq[o].m=t.aq[o].f,t.aq[o].n=t.aq[o].m?t.aq[o].t.s.p-t.b[o]:-t.aq[o].z.p/2),d.classList.toggle(`active-${o}`,t.aq[o].m),t.aq[o].t.q.p=t.e[a]*((t.b[o]+t.aq[o].n)/t.d[a]),l[c]=t.aq[o].t.q.p)})},x=()=>{t.d.height=l.clientHeight,t.d.width=l.clientWidth,t.e.height=l.scrollHeight,t.e.width=l.scrollWidth,f(s,e=>{Q(e),E(void 0,e)})},P=e=>{y(e),t.b.a=!0,f(s,S)};window.addEventListener("mousedown",P,{passive:!0});const z=e=>{y(e),t.b.a=!1,f(s,n=>{t.j[n.dir].g=!1,t.aq[n.dir].g=!1,t.aq[n.dir].m=!1,d.classList.remove(`active-${n.dir}`),S(n)})};window.addEventListener("mouseup",z,{passive:!0});const N=e=>{y(e),L=l.getBoundingClientRect(),t.b.a?($(e),l.classList.add("no-smooth")):(t.aq.y.g=!1,t.aq.x.g=!1,l.classList.remove("no-smooth")),f(s,S)};window.addEventListener("mousemove",N,{passive:!0});const j=()=>{f(s,({dir:e,reverseDir:n,dimensionLong:o,dimensionShort:a,scrollbarShort:c,scrollbarOffsetShort:p})=>{t.j[e].f=O({dir:e,reverseDir:n,scrollbarShort:c,dimensionShort:a,scrollbarOffsetShort:p})&&t.b[e]<=t.d[o]&&t.b[e]>=0}),x()};d.addEventListener("mousemove",j,{passive:!0});const I=e=>{y(e),$(e,!0)};d.addEventListener("click",I);const A=e=>{s.disableFocusPrevent&&(t.j.x.f||t.j.y.f)&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation())};d.addEventListener("focus",A);const D=e=>f(s,n=>E(e,n));l.addEventListener("scroll",D,{passive:!0});const B=new ResizeObserver(x);B.observe(l);const G=new MutationObserver(x);return G.observe(l,{childList:!0,subtree:!0,characterData:!0}),{detach:()=>{B.disconnect(),G.disconnect(),l.removeEventListener("scroll",D),l.removeEventListener("click",I),d.removeEventListener("mousemove",j),d.removeEventListener("focus",A),window.removeEventListener("mousedown",P),window.removeEventListener("mouseup",z),window.removeEventListener("mousemove",N),((e,n,o)=>{if(g===b.InnerGenerated)Y(n,e),n.remove();else if(g===b.InnerParent){var a;Y(n,e),e==null||(a=e.parentNode)==null||a.insertBefore(n,e),n.appendChild(e)}else g===b.OuterGenerated&&e.replaceWith(e.children[0]);R(e,o),R(n,o),W(e,"ls"),W(n,"ls"),F(e,V),F(n,H),e.removeAttribute("data-ls-created"),n.removeAttribute("data-ls-created")})(d,l,s.className)},innerElement:l,outerElement:d}},_e={__name:"addItem",props:{instance:{type:Object,default:void 0}},setup(r){const i=r;let s=0;const h=()=>{if(!i.instance)return;s+=1;const q=document.createTextNode(`Additional items dynamically appended ${s}`),l=document.createElement("br");i.instance.prepend(q,l)};return(q,l)=>(M(),X("button",{class:"add-item",onClick:h},"Add Dynamically item"))}},oe={},se={class:"my-scrollbar"},ae=m("div",{class:"item"},[u(" Extra element with longer content, and on hover expand,"),m("br"),u(" showing that scrollbar is reactive ")],-1),ie=m("br",null,null,-1),le=m("br",null,null,-1),de=m("br",null,null,-1),ce=m("br",null,null,-1),ue=m("br",null,null,-1),me=m("br",null,null,-1),pe=m("br",null,null,-1),he=m("br",null,null,-1),be=m("br",null,null,-1),fe=m("br",null,null,-1);function ve(r,i){return M(),X("div",se,[ae,u(" Some Content"),ie,u(" Some Content"),le,u(" Some Content"),de,u(" Some Content"),ce,u(" Some Content"),ue,u(" Some Content"),me,u(" Some Content"),pe,u(" Some Content"),he,u(" Some Content"),be,u(" Some Content"),fe])}const we=U(oe,[["render",ve]]);export{we as S,_e as _,qe as q,w as s};
