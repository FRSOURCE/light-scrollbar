import{o as Y,c as M,_ as K,d as Q}from"../app.ce5084fa.js";const k=(r,i)=>{Array.from(r.style).forEach(s=>{s.startsWith(`--${i}-`)&&r.style.removeProperty(s)})},T=(r,i)=>{r.classList.remove(...Array.from(r.classList).filter(s=>s.startsWith(i)))},W=(r,i)=>{i?r.setAttribute("tabIndex",i):r.removeAttribute("tabIndex")};var q,u;function g(){return g=Object.assign||function(r){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(r[p]=s[p])}return r},g.apply(this,arguments)}(function(r){r.inside="inside",r.outside="outside"})(q||(q={})),function(r){r[r.InnerGenerated=0]="InnerGenerated",r[r.InnerParent=1]="InnerParent",r[r.OuterGenerated=2]="OuterGenerated",r[r.OuterParent=3]="OuterParent"}(u||(u={}));const b=r=>r==="y",V=r=>b(r)?"x":"y",X=r=>r?"height":"width",U=r=>b(r)?"scrollTop":"scrollLeft",Z=r=>X(b(r)),ee=r=>X(!b(r)),te=(r,i)=>b(r)?i.bar.y.width:i.bar.x.height,f=(r,i)=>{["x","y"].forEach(s=>{i({dir:s,isDirY:b(s),isLeftOrTop:U(s),reverseDir:V(s),dimensionLong:Z(s),dimensionShort:ee(s),scrollbarShort:te(s,r),scrollbarOffsetLong:r.bar[s].offset[~~b(s)],scrollbarOffsetShort:r.bar[s].offset[~~!b(s)]})})};let h,R=null,F=null;const H=(r,i)=>{if(i)for(;r.firstChild;)i.appendChild(r.firstChild)},ne={bar:{y:{width:6,offset:[0,0]},x:{height:6,offset:[0,0]}},className:"light-scrollbar",disableFocusPrevent:!0,wrapperPlacement:q.inside},de=(r,i={})=>{if(!r)return;const s=((e,n)=>{var o,a,c,m;return g({},e,n,{bar:{y:g({},e==null||(o=e.bar)==null?void 0:o.y,n==null||(a=n.bar)==null?void 0:a.y),x:g({},e==null||(c=e.bar)==null?void 0:c.x,n==null||(m=n.bar)==null?void 0:m.x)}})})(ne,i),p=s.wrapperElement||document.createElement("div");(function(e,n,o){if(R=n.getAttribute("tabindex"),F=e.getAttribute("tabindex"),o.wrapperPlacement==="outside"){var a;if(n.children[0]===e)return void(h=u.OuterParent);h=u.OuterGenerated,e==null||(a=e.parentNode)==null||a.insertBefore(n,e),n.appendChild(e)}else{var c,m;for(n.children[0]===e?(e==null||(c=e.parentNode)==null||(m=c.parentNode)==null||m.insertBefore(e,n),h=u.InnerParent):h=u.InnerGenerated;e.firstChild;)n.appendChild(e.firstChild);e.appendChild(n)}})(r,p,s);const v=s.wrapperPlacement==="outside",l=v?r:p,d=v?p:r;l.classList.add(s.className),l.classList.add(`${s.className}-wrapper-${q.inside}`),v||(l.dataset.lsCreated=""),d.classList.add(s.className),d.classList.add(`${s.className}-wrapper-${q.outside}`),d.setAttribute("tabindex","-1"),((e,n)=>{f(e,({dir:o,dimensionShort:a,scrollbarShort:c,scrollbarOffsetShort:m})=>{n.style.setProperty(`--ls-bar-${o}-${a}`,`${c}px`),n.style.setProperty(`--ls-bar-${o}-offset-${V(o)}`,`${m}px`)})})(s,d);let y=l.getBoundingClientRect();const t={b:{x:0,y:0,a:!1},c:10,d:{width:0,height:0},e:{width:0,height:0},j:{x:{f:!1,g:!1},y:{f:!1,g:!1}},aq:{x:{g:!1,f:!1,m:!1,n:0,t:{q:{o:0,p:0},s:{p:0}},z:{o:0,p:0,w:0},aa:0},y:{g:!1,f:!1,m:!1,n:0,t:{q:{o:0,p:0},s:{p:0}},aa:0,z:{o:0,p:0,w:0}}}},w=e=>{t.b.x=e.clientX-y.left,t.b.y=e.clientY-y.top},C=({reverseDir:e,dimensionShort:n,scrollbarShort:o,scrollbarOffsetShort:a})=>t.b[e]>=t.d[n]-o-a&&t.b[e]<t.d[n]-a,L=({dir:e,reverseDir:n,scrollbarShort:o,dimensionShort:a,scrollbarOffsetShort:c})=>{t.aq[e].f=C({dir:e,reverseDir:n,scrollbarShort:o,dimensionShort:a,scrollbarOffsetShort:c})&&t.b[e]>=t.aq[e].t.s.p&&t.b[e]<=t.aq[e].t.s.p+t.aq[e].z.p,t.aq[e].g=!!t.aq[e].g||t.aq[e].f,d.classList.toggle(`hover-${e}`,t.aq[e].g)},J=({dir:e,dimensionLong:n})=>{t.aq[e].z.w=t.d[n]/t.e[n]*100;const o=t.aq[e].z.w;t.aq[e].z.o=o>=t.c?o:t.c,t.aq[e].z.p=t.aq[e].z.o/100*t.d[n];const a=t.aq[e].z.o;d.style.setProperty(`--ls-bar-${e}-${n}`,`${a>=100?0:a}%`)},O=(e,{dir:n,dimensionLong:o,isLeftOrTop:a})=>{var c;const m=n==="y"?"top":"left",B=(e==null||(c=e.target)==null?void 0:c[a])||l[a];let G=0,x=0;t.aq[n].z.w<=t.c&&(G=t.c-t.aq[n].z.w,x=t.d[o]*G/100),t.aq[n].t.q.o=B/t.e[o],t.aq[n].t.s.p=(B+t.d[o]-x)/t.e[o]*t.d[o]-t.aq[n].z.p-2*x,d.style.setProperty(`--ls-bar-${n}-${m}`,`${t.aq[n].t.s.p}px`)},E=(e,n=!1)=>{f(s,({dir:o,dimensionLong:a,isLeftOrTop:c})=>{t.j[o].g=!!t.j[o].g||t.j[o].f,t.j[o].g&&(n&&e.preventDefault(),t.aq[o].m?t.aq[o].m=!0:(t.aq[o].m=t.aq[o].f,t.aq[o].n=t.aq[o].m?t.aq[o].t.s.p-t.b[o]:-t.aq[o].z.p/2),d.classList.toggle(`active-${o}`,t.aq[o].m),t.aq[o].t.q.p=t.e[a]*((t.b[o]+t.aq[o].n)/t.d[a]),l[c]=t.aq[o].t.q.p)})},S=()=>{t.d.height=l.clientHeight,t.d.width=l.clientWidth,t.e.height=l.scrollHeight,t.e.width=l.scrollWidth,f(s,e=>{J(e),O(void 0,e)})},$=e=>{w(e),t.b.a=!0,f(s,L)};window.addEventListener("mousedown",$,{passive:!0});const _=e=>{w(e),t.b.a=!1,f(s,n=>{t.j[n.dir].g=!1,t.aq[n.dir].g=!1,t.aq[n.dir].m=!1,d.classList.remove(`active-${n.dir}`),L(n)})};window.addEventListener("mouseup",_,{passive:!0});const P=e=>{w(e),y=l.getBoundingClientRect(),t.b.a?(E(e),l.classList.add("no-smooth")):(t.aq.y.g=!1,t.aq.x.g=!1,l.classList.remove("no-smooth")),f(s,L)};window.addEventListener("mousemove",P,{passive:!0});const z=()=>{f(s,({dir:e,reverseDir:n,dimensionLong:o,dimensionShort:a,scrollbarShort:c,scrollbarOffsetShort:m})=>{t.j[e].f=C({dir:e,reverseDir:n,scrollbarShort:c,dimensionShort:a,scrollbarOffsetShort:m})&&t.b[e]<=t.d[o]&&t.b[e]>=0}),S()};d.addEventListener("mousemove",z,{passive:!0});const j=e=>{w(e),E(e,!0)};d.addEventListener("click",j);const I=e=>{s.disableFocusPrevent&&(t.j.x.f||t.j.y.f)&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation())};d.addEventListener("focus",I);const N=e=>f(s,n=>O(e,n));l.addEventListener("scroll",N,{passive:!0});const A=new ResizeObserver(S);A.observe(l);const D=new MutationObserver(S);return D.observe(l,{childList:!0,subtree:!0,characterData:!0}),{detach:()=>{A.disconnect(),D.disconnect(),l.removeEventListener("scroll",N),l.removeEventListener("click",j),d.removeEventListener("mousemove",z),d.removeEventListener("focus",I),window.removeEventListener("mousedown",$),window.removeEventListener("mouseup",_),window.removeEventListener("mousemove",P),((e,n,o)=>{if(h===u.InnerGenerated)H(n,e),n.remove();else if(h===u.InnerParent){var a;H(n,e),e==null||(a=e.parentNode)==null||a.insertBefore(n,e),n.appendChild(e)}else h===u.OuterGenerated&&e.replaceWith(e.children[0]);T(e,o),T(n,o),k(e,"ls"),k(n,"ls"),W(e,F),W(n,R),e.removeAttribute("data-ls-created"),n.removeAttribute("data-ls-created")})(d,l,s.className)},innerElement:l,outerElement:d}},ce={__name:"addItem",props:{instance:{type:Object,default:void 0}},setup(r){const i=r;let s=0;const p=()=>{if(!i.instance)return;s+=1;const v=document.createTextNode(`Additional items dynamically appended ${s}`),l=document.createElement("br");i.instance.prepend(v,l)};return(v,l)=>(Y(),M("button",{class:"add-item",onClick:p},"Add Dynamically item"))}},re={},oe={class:"my-scrollbar"},se=Q('<div class="item"> Extra element with longer content, and on hover expand,<br> showing that scrollbar is reactive </div> Some Content<br> Some Content<br> Some Content<br> Some Content<br> Some Content<br> Some Content<br> Some Content<br> Some Content<br> Some Content<br> Some Content<br>',21),ae=[se];function ie(r,i){return Y(),M("div",oe,ae)}const me=K(re,[["render",ie]]);export{me as S,ce as _,de as q,q as s};
